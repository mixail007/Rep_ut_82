
Процедура КнопкаВыполнитьНажатие(Кнопка)
	// Вставить содержимое обработчика.
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
               |	""99""+Склады.Код КАК Код,
               |	Склады.Наименование КАК Наименование
               |ИЗ
               |	Справочник.Склады КАК Склады
               |ГДЕ
               |	Склады.Ссылка В ИЕРАРХИИ(&Склады)
               |	И Склады.ЭтоГруппа = ЛОЖЬ
               |	И Склады.АдресноеХранение = ЛОЖЬ
               |
               |УПОРЯДОЧИТЬ ПО
               |	Наименование
               |АВТОУПОРЯДОЧИВАНИЕ";

Запрос.УстановитьПараметр("Склады", Склады);

Результат = Запрос.Выполнить();
Выборка = Результат.Выбрать();

табДок = новый ТабличныйДокумент;
Макет = ПолучитьМакет("Макет");
	
ОбластьСтрока1=Макет.ПолучитьОбласть("Строка1");
ОбластьСтрока1.Параметры.Наименование = Склады.Код+" - "+Склады.Наименование+" (Группа складов)";	
табДок.Вывести(ОбластьСтрока1);	

ОбластьСтрока=Макет.ПолучитьОбласть("Строка");

Пока Выборка.Следующий() Цикл
	ШтрихКод = выборка.Код;
	ШтрихКод = ШтрихКод + КонтрольныйСимволEAN(ШтрихКод, 8);

 //Сообщить(выборка.Код+" - "+выборка.Наименование+" : "+ШтрихКод); 
 
 ОбластьСтрока.Параметры.Наименование = выборка.Код+" - "+выборка.Наименование;
 ОбШтрихКод=ОбластьСтрока.Рисунки.ШК.Объект;
			//ОбШтрихКод.ТипКода = 1; 
			ОбШтрихКод.Сообщение = ШтрихКод; 
			ОбШтрихКод.ОтображатьТекст = Истина;
			ОбШтрихКод.ТекстКода = ШтрихКод; 
табДок.Вывести(ОбластьСтрока);			
КонецЦикла;

табДок.Показать();
КонецПроцедуры
