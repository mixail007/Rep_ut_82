
Процедура ВыбПериодНажатие(Элемент)
	НастройкаПериода = Новый НастройкаПериода;
	НастройкаПериода.РедактироватьКакИнтервал = Истина;
	НастройкаПериода.РедактироватьКакПериод = Истина;
	НастройкаПериода.ВариантНастройки = ВариантНастройкиПериода.Период;
	НастройкаПериода.УстановитьПериод(НачПериода, ?(КонПериода='0001-01-01', КонПериода, КонецДня(КонПериода)));
	Если НастройкаПериода.Редактировать() Тогда
		НачПериода = НастройкаПериода.ПолучитьДатуНачала();
		КонПериода = НастройкаПериода.ПолучитьДатуОкончания();
	КонецЕсли;
	   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("НачалоПериода");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = НачалоДня(НачПериода);
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("КонецПериода");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = КонецДня(КонПериода);

КонецПроцедуры

Процедура НачПериодаПриИзменении(Элемент)
	ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("НачалоПериода");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = НачалоДня(НачПериода);

КонецПроцедуры

Процедура КонПериодаПриИзменении(Элемент)
		   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("КонецПериода");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = КонецДня(КонПериода);

КонецПроцедуры

Процедура ПриОткрытии()
    неУчитывать = Истина;	
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("НеУчитывать");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Истина;

   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("ДепартаментПродаж");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00104");
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Диски");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00163");
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("ИМ");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00139");
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Транспорт");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.СтатьиЗатрат.НайтиПоКоду("К0115");

   //список подразделений
   списокПодразделений = новый списокЗначений;
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00104"));
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00163"));
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00139"));
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00138"));//Екат
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00133")); //Москва
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00112"));//Питер
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00106"));//Ростов
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("СписокПодразделений");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = СписокПодразделений;
   
      //Филиалы
   списокПодразделений = новый списокЗначений;
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00138"));//Екат
   //СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00133")); //Москва
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00112"));//Питер
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00106"));//Ростов
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Филиалы");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = СписокПодразделений;

   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Ростов");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00106");

   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Екат");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00138");
   
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Питер");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00112");
   
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Москва");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00133");
   
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Головное");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00005");

      ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Логисты");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = Справочники.Подразделения.НайтиПоКоду("00013");

    списокПодразделений = новый списокЗначений;
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00013"));
   СписокПодразделений.Добавить(Справочники.Подразделения.НайтиПоКоду("00018"));
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("Логисты");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = СписокПодразделений;

   
   
   
   //статьи затрат 
   
   списокЗатрат = новый списокЗначений;
   списокЗатрат.Добавить(Справочники.СтатьиЗатрат.НайтиПоКоду("А0027"));
   списокЗатрат.Добавить(Справочники.СтатьиЗатрат.НайтиПоКоду("А0028"));
   списокЗатрат.Добавить(Справочники.СтатьиЗатрат.НайтиПоКоду("К0115"));
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("СтатьиЗатрат");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = списокЗатрат;

   //статьи фот
    списокЗатрат = новый списокЗначений;
   списокЗатрат.Добавить(Справочники.СтатьиЗатрат.НайтиПоКоду("А0027"));
   списокЗатрат.Добавить(Справочники.СтатьиЗатрат.НайтиПоКоду("А0028"));
   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("СтатьиФОТ");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = списокЗатрат;

КонецПроцедуры

Процедура НеУчитыватьПриИзменении(Элемент)
	   ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.Элементы.Найти("НеУчитывать");
   ПараметрСКД.Использование = Истина;
   ПараметрСКД.Значение  = НеУчитывать;

КонецПроцедуры
