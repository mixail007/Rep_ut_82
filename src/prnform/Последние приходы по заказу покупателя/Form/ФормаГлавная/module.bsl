// Процедура устанавливает заголовок формы в зависимости от заказа
//
Процедура УстановитьЗаголовок()

		Заголовок = "Поступления товаров по заказу покупателя";
	
КонецПроцедуры // УстановитьЗаголовок()

// Запускает процедуру формирования отчета.
//
Процедура КнопкаСформироватьНажатие(Элемент)
	
    СформироватьОтчет(ЭлементыФормы.ДокументРезультат);
	
КонецПроцедуры // КнопкаСформироватьНажатие()

// Открывает новое окно отчета, копируя содержимое текущего.
Процедура ДействияФормыНовоеОкно(Кнопка)
	ТекущийОтчет = ЭтотОбъект;

	НовыйОтчет = Отчеты.АнализЗаказа.Создать();

	Для каждого Реквизит Из Метаданные.Отчеты["АнализЗаказа"].Реквизиты Цикл

		НовыйОтчет[Реквизит.Имя] = ТекущийОтчет[Реквизит.Имя];

	КонецЦикла;
	
	НовыйОтчетФорма = НовыйОтчет.ПолучитьФорму();
	НовыйОтчетФорма.ЭлементыФормы.ДокументРезультат.Очистить();
	НовыйОтчетФорма.ЭлементыФормы.ДокументРезультат.Вывести(ЭлементыФормы.ДокументРезультат.ПолучитьОбласть());
	НовыйОтчетФорма.Открыть();
КонецПроцедуры

// Процедура - обработчик события ПриОткрытии формы
Процедура ПриОткрытии()
	УстановитьЗаголовок();
КонецПроцедуры // ПриОткрытии()

Процедура ВыбПериодНажатие(Элемент)
	НастройкаПериода = Новый НастройкаПериода;
	НастройкаПериода.РедактироватьКакИнтервал = Истина;
	НастройкаПериода.РедактироватьКакПериод = Истина;
	НастройкаПериода.ВариантНастройки = ВариантНастройкиПериода.Период;
	НастройкаПериода.УстановитьПериод(НачПериода, ?(КонПериода='0001-01-01', КонПериода, КонецДня(КонПериода)));
	Если НастройкаПериода.Редактировать() Тогда
		НачПериода = НастройкаПериода.ПолучитьДатуНачала();
		КонПериода = НастройкаПериода.ПолучитьДатуОкончания();
	КонецЕсли;
КонецПроцедуры


