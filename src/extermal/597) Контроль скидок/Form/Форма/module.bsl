
Процедура КнопкаВыполнитьНажатие(Кнопка)
	список = Новый СписокЗначений;
	Если ОтборПоПроизводителю тогда	
	пр = РазмерСкидок.ВыгрузитьКолонку("Производитель");
	Список.ЗагрузитьЗначения(пр);  
    конецЕсли;
	
    РасчетСкидок = ЗаполнитьТаблицуРасчетСкидок(ОбъемКонтейнера, РазмерСкидок, НижеПорога, ПорогНаценки, Курс, Фрахт,ВидОстатков,ОтборПоПроизводителю,Список);
     	ЭлементыФормы. РасчетСкидок.Колонки.НаСкладе.ТекстПодвала = Окр(РасчетСкидок.Итог("НаСкладеНаценка")/РасчетСкидок.Итог("НаСкладе1"),2);
		ЭлементыФормы. РасчетСкидок.Колонки.СвободныйОстаток.ТекстПодвала = Окр(РасчетСкидок.Итог("СвободныйОстатокНаценка")/РасчетСкидок.Итог("СвободныйОстаток1"),2);
		ЭлементыФормы. РасчетСкидок.Колонки.ВПути.ТекстПодвала = Окр(РасчетСкидок.Итог("ВПутиНаценка")/РасчетСкидок.Итог("ВПути1"),2);
		ЭлементыФормы. РасчетСкидок.Колонки.ВПроизводстве.ТекстПодвала = Окр(РасчетСкидок.Итог("ВПроизводствеНаценка")/РасчетСкидок.Итог("ВПроизводстве1"),2);
КонецПроцедуры

Процедура ПриОткрытии()
		
	Фрахт = 2000;	
	ХЗ = 60000;
	ОбъемКонтейнера = ЗаполнитьТаблицуОбъемКонтейнера();
	
	РазмерСкидок = ЗаполнитьТаблицуРазмерСкидок();
	
КонецПроцедуры
