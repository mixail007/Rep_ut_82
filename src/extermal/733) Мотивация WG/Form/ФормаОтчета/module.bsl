
Процедура ВыбПериодНажатие(Элемент)
	НастройкаПериода = Новый НастройкаПериода;
	НастройкаПериода.РедактироватьКакИнтервал = Истина;
	НастройкаПериода.РедактироватьКакПериод = Истина;
	НастройкаПериода.ВариантНастройки = ВариантНастройкиПериода.Период;
	НастройкаПериода.УстановитьПериод(НачПериода, ?(КонПериода='0001-01-01', КонПериода, КонецДня(КонПериода)));
	Если НастройкаПериода.Редактировать() Тогда
		НачПериода = НастройкаПериода.ПолучитьДатуНачала();
		КонПериода = НастройкаПериода.ПолучитьДатуОкончания();
	КонецЕсли;
	
	ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("НачалоПериода"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  = НачПериода;
ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("конецПериода"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  = КонПериода;

КонецПроцедуры

Процедура ЗаполнитьМенеджеровНажатие(Элемент)

	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПродажиОбороты.ДоговорКонтрагента.ОтветственноеЛицо КАК Менеджер,
		|	0 КАК Оклад,
		|	0 КАК ПроцентПремии
		|ИЗ
		|	РегистрНакопления.Продажи.Обороты(&Нач, &Кон, , ДоговорКонтрагента.Организация = &Организация) КАК ПродажиОбороты";

	Запрос.УстановитьПараметр("Организация", Справочники.Организации.НайтиПоКоду("00005"));
	Запрос.УстановитьПараметр("Нач", НачПериода);
	Запрос.УстановитьПараметр("Кон", КонПериода);
	

	Результат = Запрос.Выполнить();

	ДанныеПоМенеджеру.Загрузить(Результат.Выгрузить());


	
	
	
КонецПроцедуры

Процедура КонПериодаПриИзменении(Элемент)
	КонПериода= КонецДня(КонПериода);
	ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("конецПериода"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  = КонПериода;

КонецПроцедуры

Процедура ПриОткрытии()
	Курс = 58;
	ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("Курс"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  =Курс;

ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("Организация"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  = справочники.Организации.НайтиПоКоду("00005");


КонецПроцедуры

Процедура КурсПриИзменении(Элемент)
ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("Курс"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  =Курс;

КонецПроцедуры

Процедура НачПериодаПриИзменении(Элемент)
ПараметрСКД = КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("НачалоПериода"));
ПараметрСКД.Использование = истина ;
ПараметрСКД.Значение  = НачПериода;
КонецПроцедуры
