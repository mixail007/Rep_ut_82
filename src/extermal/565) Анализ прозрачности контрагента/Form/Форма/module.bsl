
Процедура СохранитьНажатие(Элемент)
	Для каждого стр из  ПланПрироста Цикл
		Если стр.План>0 или  (ЗначениеЗаполнено(стр.СистемаРаботы) и ПоказыватьСезонники) тогда
			
			Если (стр.план >= стр.продажи и не ПоказыватьСезонники) или (ЗначениеЗаполнено(стр.СистемаРаботы) и ПоказыватьСезонники) тогда
				Запись = РегистрыСведений.ПланируемыйПриростПродажПоКонтрагентам.СоздатьМенеджерЗаписи();
				Отбор = Новый Структура();
				Отбор.Вставить("Контрагент",Контрагент);
				Отбор.Вставить("Прозрачность",стр.Прозрачность);
				Отбор.Вставить("Производитель", стр.производитель);
				Отбор.Вставить("ГодПланирования",Дата(2018,01,01,0,0,0));
				ДанныеЗаписи = РегистрыСведений.ПланируемыйПриростПродажПоКонтрагентам.Получить(Отбор);
				ЗаполнитьЗначенияСвойств(Запись,ДАнныеЗаписи);
				Запись.Контрагент=Контрагент;
				Запись.Прозрачность=стр.Прозрачность;
				Запись.Производитель=стр.производитель;
				Запись.ГодПланирования=Дата(2018,01,01,0,0,0);
				Запись.ГодОсноваПланирования = Дата(2016,01,01,0,0,0);
				//для планирования сезонников
				
				Запись.СистемаРаботы = стр.СистемаРаботы;
				
				
				Если Лето =0 тогда //лето
					Запись.ПроцентЛето = стр.процент;
					Запись.ПриростЛето = стр.Прирост;
					Запись.ПланЛето = стр.План;
					Запись.ПланГод = Запись.ПланЛето+Запись.ПланЗима;
					// для сезонников
					Запись.ОжидаемаяДатаЗаказаЛето = стр.ДатаСЗ;
					Запись.КомментарийЛето  = Стр.Комментарий;
					Запись.СЗПланЛето = стр.СЗПлан;
					Запись.СЗПланГод = Запись.СЗПланЛето+Запись.СЗПланЗима;
				иначеесли Лето =1 тогда //зима
					Запись.ПроцентЗима = стр.процент;
					Запись.ПриростЗима = стр.Прирост;
					Запись.ПланЗима = стр.План;
					Запись.ПланГод = Запись.ПланЛето+Запись.ПланЗима;
					// для сезонников
					Запись.ОжидаемаяДатаЗаказаЗима = стр.ДатаСЗ;
					Запись.КомментарийЗима  = Стр.Комментарий;
					Запись.СЗПланЗима = стр.СЗПлан;
					Запись.СЗПланГод = Запись.СЗПланЛето+Запись.СЗПланЗима;
				иначе// год	
					Запись.ПроцентГод = стр.процент;
					Запись.ПриростГод = стр.Прирост;
					Запись.ПланГод = стр.План;
					// для сезонников
					Запись.ОжидаемаяДатаЗаказаГод = стр.ДатаСЗ;
					Запись.КомментарийГод  = Стр.Комментарий;
					Запись.СЗПланГод = стр.СЗПлан;
				конецЕсли;
				Запись.Записать(Истина);
			иначеЕсли (стр.план < стр.продажи и не ПоказыватьСезонники) тогда                                           
				сообщить("Для производителя "+стр.Производитель+" план не будет записан, т.к. он меньше продаж текущего года!!");	
			конецЕсли;	
		конецЕсли;	
		
	конецЦикла;
	
КонецПроцедуры

Процедура ПриОткрытии()
	ПоказыватьСезонники = Истина;
	ЭлементыФормы.ПланПрироста.Колонки.СистемаРаботы.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.СЗПлан.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.ДатаСЗ.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Комментарий.Видимость = ПоказыватьСезонники;
    ЭлементыФормы.СистемаРаботыБаза.Видимость = ПоказыватьСезонники;
    ЭлементыФормы.Надпись1.Видимость = ПоказыватьСезонники;
	
	ЭлементыФормы.ПланПрироста.Колонки.ДоляЯШТ.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Количество.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.КоличествоЯШТ.Видимость =  не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Процент.Видимость = не ПоказыватьСезонники;
	ЭлементыФормы.ПланПрироста.Колонки.Прирост.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Продажи.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.План.Видимость = не ПоказыватьСезонники;

	ЗаполнитьТаблицу();
КонецПроцедуры

процедура  ЗаполнитьТаблицу()

	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ЗначенияСвойствОбъектов.Объект КАК Контрагент
		|ПОМЕСТИТЬ ПервичныеКонтрагенты
		|ИЗ
		|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
		|ГДЕ
		|	ЗначенияСвойствОбъектов.Свойство = &ПервичныйКонтрагент
		|	И ЗначенияСвойствОбъектов.Значение = &Контрагент
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	&Контрагент
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	СУММА(ПродажиОбороты.СтоимостьОборот) КАК продажи,
		|	ВЫБОР
		|		КОГДА ПродажиОбороты.Номенклатура.НоменклатурнаяГруппа.Наименование ПОДОБНО ""%зим%""
		|			ТОГДА ""Зима""
		|		ИНАЧЕ ""Лето""
		|	КОНЕЦ КАК Сезон,
		|	ВЫБОР
		|		КОГДА ПродажиОбороты.Номенклатура.Модель.Наименование ПОДОБНО ""%Nordman%""
		|			ТОГДА &Nordman
		|		КОГДА ПродажиОбороты.Номенклатура.Модель.Наименование ПОДОБНО ""%FORMULA Energy%""
		|			ТОГДА &FORMULA
		|		ИНАЧЕ ПродажиОбороты.Номенклатура.Производитель
		|	КОНЕЦ КАК НоменклатураПроизводитель,
		|	СУММА(ПродажиОбороты.КоличествоОборот) КАК ПродажиКоличество,
		|	ПродажиОбороты.Номенклатура.НоменклатурнаяГруппа КАК НоменклатурнаяГруппа
		|ПОМЕСТИТЬ продажиОборот
		|ИЗ
		|	РегистрНакопления.Продажи.Обороты(
		|			&Нач17,
		|			&Кон17,
		|			Регистратор,
		|			ДоговорКонтрагента.Владелец В
		|				(ВЫБРАТЬ РАЗЛИЧНЫЕ
		|					ПервичныеКонтрагенты.Контрагент
		|				ИЗ
		|					ПервичныеКонтрагенты КАК ПервичныеКонтрагенты)) КАК ПродажиОбороты
		|ГДЕ
		|	ВЫБОР
		|			КОГДА ПродажиОбороты.Номенклатура.НоменклатурнаяГруппа.Наименование ПОДОБНО ""%зим%""
		|				ТОГДА ""Зима""
		|			ИНАЧЕ ""Лето""
		|		КОНЕЦ = &Сезон
		|
		|СГРУППИРОВАТЬ ПО
		|	ВЫБОР
		|		КОГДА ПродажиОбороты.Номенклатура.НоменклатурнаяГруппа.Наименование ПОДОБНО ""%зим%""
		|			ТОГДА ""Зима""
		|		ИНАЧЕ ""Лето""
		|	КОНЕЦ,
		|	ВЫБОР
		|		КОГДА ПродажиОбороты.Номенклатура.Модель.Наименование ПОДОБНО ""%Nordman%""
		|			ТОГДА &Nordman
		|		КОГДА ПродажиОбороты.Номенклатура.Модель.Наименование ПОДОБНО ""%FORMULA Energy%""
		|			ТОГДА &FORMULA
		|		ИНАЧЕ ПродажиОбороты.Номенклатура.Производитель
		|	КОНЕЦ,
		|	ПродажиОбороты.Номенклатура.НоменклатурнаяГруппа
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Прозрачность,
		|	ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Производитель,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЛетоЯШТ
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЗимаЯШТ
		|		ИНАЧЕ ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЯШТ
		|	КОНЕЦ КАК КоличествоЯШТ,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЗима
		|		ИНАЧЕ ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоГодовойОбъем
		|	КОНЕЦ КАК Количество,
		|	ПрозрачностьКонтрагентовНоменклатурныеГруппы.НоменклатурнаяГруппа,
		|	ВЫБОР
		|		КОГДА ВЫБОР
		|				КОГДА &Сезон = ""Лето""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЛето
		|				КОГДА &Сезон = ""Зима""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЗима
		|				ИНАЧЕ ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоГодовойОбъем
		|			КОНЕЦ = 0
		|			ТОГДА 0
		|		ИНАЧЕ ВЫБОР
		|				КОГДА &Сезон = ""Лето""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЛетоЯШТ
		|				КОГДА &Сезон = ""Зима""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЗимаЯШТ
		|				ИНАЧЕ ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЯШТ
		|			КОНЕЦ / ВЫБОР
		|				КОГДА &Сезон = ""Лето""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЛето
		|				КОГДА &Сезон = ""Зима""
		|					ТОГДА ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоЗима
		|				ИНАЧЕ ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.КоличествоГодовойОбъем
		|			КОНЕЦ * 100
		|	КОНЕЦ КАК ДоляЯШТ,
		|	ВЫБОР
		|		КОГДА ПрозрачностьКонтрагентовНоменклатурныеГруппы.НоменклатурнаяГруппа.Наименование ПОДОБНО ""%зим%""
		|			ТОГДА ""Зима""
		|		ИНАЧЕ ""Лето""
		|	КОНЕЦ КАК Сезон
		|ПОМЕСТИТЬ ДанныеПрозрачности
		|ИЗ
		|	Справочник.ДополнительнаяИнформацияПоКонтрагентам.ПрозрачностьКонтрагента КАК ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента
		|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ПрозрачностьКонтрагентов.НоменклатурныеГруппы КАК ПрозрачностьКонтрагентовНоменклатурныеГруппы
		|		ПО ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Прозрачность = ПрозрачностьКонтрагентовНоменклатурныеГруппы.Ссылка
		|ГДЕ
		|	ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Ссылка.Владелец = &Контрагент
		|	И ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Год = &Год
		|	И ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Полугодие = &Полугодие
		|	И ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Прозрачность = &Прозрачность
		|	И ДополнительнаяИнформацияПоКонтрагентамПрозрачностьКонтрагента.Ссылка.ПометкаУдаления = ЛОЖЬ
		|	И ВЫБОР
		|			КОГДА ПрозрачностьКонтрагентовНоменклатурныеГруппы.НоменклатурнаяГруппа.Наименование ПОДОБНО ""%зим%""
		|				ТОГДА ""Зима""
		|			ИНАЧЕ ""Лето""
		|		КОНЕЦ = &Сезон
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ДанныеПрозрачности.Прозрачность,
		|	ДанныеПрозрачности.Производитель,
		|	МАКСИМУМ(ДанныеПрозрачности.Количество) КАК Количество,
		|	МАКСИМУМ(ДанныеПрозрачности.КоличествоЯШТ) КАК КоличествоЯШТ,
		|	СУММА(ЕСТЬNULL(продажиОборот.ПродажиКоличество, 0)) КАК ПродажиКоличество,
		|	продажиОборот.Сезон,
		|	МАКСИМУМ(ДанныеПрозрачности.ДоляЯШТ) КАК ДоляЯШТ
		|ПОМЕСТИТЬ ПоСезонам
		|ИЗ
		|	ДанныеПрозрачности КАК ДанныеПрозрачности
		|		ЛЕВОЕ СОЕДИНЕНИЕ продажиОборот КАК продажиОборот
		|		ПО ДанныеПрозрачности.Производитель = продажиОборот.НоменклатураПроизводитель
		|			И ДанныеПрозрачности.НоменклатурнаяГруппа = продажиОборот.НоменклатурнаяГруппа
		|
		|СГРУППИРОВАТЬ ПО
		|	ДанныеПрозрачности.Прозрачность,
		|	ДанныеПрозрачности.Производитель,
		|	продажиОборот.Сезон
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ПланируемыйПриростПродажПоКонтрагентам.Производитель,
		|	ПланируемыйПриростПродажПоКонтрагентам.Прозрачность,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПроцентЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПроцентЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.ПроцентГод
		|	КОНЕЦ КАК Процент,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПриростЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПриростЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.ПриростГод
		|	КОНЕЦ КАК Прирост,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПланЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ПланЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.ПланГод
		|	КОНЕЦ КАК План,
		|	ПланируемыйПриростПродажПоКонтрагентам.СистемаРаботы,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.СЗПланЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.СЗПланЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.СЗПланГод
		|	КОНЕЦ КАК СЗПлан,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ОжидаемаяДатаЗаказаЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.ОжидаемаяДатаЗаказаЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.ОжидаемаяДатаЗаказаГод
		|	КОНЕЦ КАК ДатаСЗ,
		|	ВЫБОР
		|		КОГДА &Сезон = ""Лето""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.КомментарийЛето
		|		КОГДА &Сезон = ""Зима""
		|			ТОГДА ПланируемыйПриростПродажПоКонтрагентам.КомментарийЗима
		|		ИНАЧЕ ПланируемыйПриростПродажПоКонтрагентам.КомментарийГод
		|	КОНЕЦ КАК Комментарий
		|ПОМЕСТИТЬ СозданныйПлан
		|ИЗ
		|	РегистрСведений.ПланируемыйПриростПродажПоКонтрагентам КАК ПланируемыйПриростПродажПоКонтрагентам
		|ГДЕ
		|	ПланируемыйПриростПродажПоКонтрагентам.Контрагент = &Контрагент
		|	И ПланируемыйПриростПродажПоКонтрагентам.ГодПланирования = &ГодПлановогоПрироста
		|	И ПланируемыйПриростПродажПоКонтрагентам.ГодОсноваПланирования = &ГодОсноваПланирования
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ПоСезонам.Прозрачность,
		|	ПоСезонам.Производитель,
		|	ЕСТЬNULL(ПоСезонам.Количество, 0) КАК Количество,
		|	ЕСТЬNULL(ПоСезонам.КоличествоЯШТ, 0) КАК КоличествоЯШТ,
		|	ЕСТЬNULL(ПоСезонам.ПродажиКоличество, 0) КАК Продажи,
		|	ЕСТЬNULL(СозданныйПлан.Процент, 0) КАК Процент,
		|	ЕСТЬNULL(СозданныйПлан.Прирост, 0) КАК Прирост,
		|	ЕСТЬNULL(ПоСезонам.ДоляЯШТ, 0) КАК ДоляЯШТ,
		|	ЕСТЬNULL(СозданныйПлан.План, 0) КАК План,
		|	СозданныйПлан.СистемаРаботы,
		|	ЕСТЬNULL(СозданныйПлан.СЗПлан, 0) КАК СЗПлан,
		|	СозданныйПлан.ДатаСЗ,
		|	СозданныйПлан.Комментарий
		|ИЗ
		|	ПоСезонам КАК ПоСезонам
		|		ЛЕВОЕ СОЕДИНЕНИЕ СозданныйПлан КАК СозданныйПлан
		|		ПО ПоСезонам.Производитель = СозданныйПлан.Производитель
		|			И ПоСезонам.Прозрачность = СозданныйПлан.Прозрачность";

	Запрос.УстановитьПараметр("Год", "2016");
	Запрос.УстановитьПараметр("ГодОсноваПланирования", Дата(2016,01,01,0,0,0));
	Запрос.УстановитьПараметр("ГодПлановогоПрироста", Дата(2018,01,01,0,0,0));
	Запрос.УстановитьПараметр("Кон17", Дата(2017,12,31,23,59,59));
	Запрос.УстановитьПараметр("Контрагент", Контрагент);
	Запрос.УстановитьПараметр("ПервичныйКонтрагент", планыВидовХарактеристик.СвойстваОбъектов.НайтиПоКоду("90230"));
   	Запрос.УстановитьПараметр("Nordman", Справочники.Производители.НайтиПоКоду("3795"));
	Запрос.УстановитьПараметр("FORMULA", Справочники.Производители.НайтиПоКоду("3796"));

	Запрос.УстановитьПараметр("Нач17", Дата(2017,01,01,0,0,0));
	Запрос.УстановитьПараметр("Полугодие", "целый год");
	Запрос.УстановитьПараметр("Прозрачность", Справочники.ПрозрачностьКонтрагентов.НайтиПоКоду("000000006"));
	Если Лето =0 тогда
	Запрос.УстановитьПараметр("Сезон", "Лето");
    иначеЕсли Лето = 1 тогда
	Запрос.УстановитьПараметр("Сезон", "Зима");
    иначе
	Запрос.УстановитьПараметр("Сезон", "Год");
    конецЕсли;
	
	
	ПланПрироста = Запрос.Выполнить().Выгрузить();
	
конецпроцедуры	

Процедура ПланПриростаПроцентПриИзменении(Элемент)
	текстрока = ЭлементыФормы.ПланПрироста.ТекущиеДанные;
	текСтрока.Прирост= Окр(текСтрока.КоличествоЯШТ*(текСтрока.Процент)/100,0);
	текСтрока.План = текСтрока.КоличествоЯШТ+текСтрока.Прирост;
КонецПроцедуры

Процедура ПланПриростаПриростПриИзменении(Элемент)
	текстрока = ЭлементыФормы.ПланПрироста.ТекущиеДанные;
	Если текСтрока.КоличествоЯШТ =0 Тогда
		текСтрока.Процент=0;
	иначе	
		текСтрока.Процент= текСтрока.Прирост/текСтрока.КоличествоЯШТ*100;
	конецЕсли;
	текСтрока.План = текСтрока.КоличествоЯШТ+текСтрока.Прирост;
КонецПроцедуры

Процедура ЛетоПриИзменении(Элемент)
Ответ = Вопрос("Сохранить изменения в текущих данных?", РежимДиалогаВопрос.ДаНет, 0);
Если Ответ = КодВозвратаДиалога.Да Тогда
   СохранитьНажатие(Истина);
КонецЕсли;
ЗаполнитьТаблицу();
КонецПроцедуры

Процедура ЗимаПриИзменении(Элемент)
Ответ = Вопрос("Сохранить изменения в текущих данных?", РежимДиалогаВопрос.ДаНет, 0);
Если Ответ = КодВозвратаДиалога.Да Тогда
   СохранитьНажатие(Истина);
КонецЕсли;
ЗаполнитьТаблицу();
КонецПроцедуры

Процедура ГодПриИзменении(Элемент)
Ответ = Вопрос("Сохранить изменения в текущих данных?", РежимДиалогаВопрос.ДаНет, 0);
Если Ответ = КодВозвратаДиалога.Да Тогда
   СохранитьНажатие(Истина);
КонецЕсли;
ЗаполнитьТаблицу();
КонецПроцедуры

Процедура ПоказыватьСезонникиПриИзменении(Элемент)
	ЭлементыФормы.ПланПрироста.Колонки.СистемаРаботы.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.СЗПлан.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.ДатаСЗ.Видимость = ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Комментарий.Видимость = ПоказыватьСезонники;
    ЭлементыФормы.СистемаРаботыБаза.Видимость = ПоказыватьСезонники;
    ЭлементыФормы.Надпись1.Видимость = ПоказыватьСезонники;
	
	
	ЭлементыФормы.ПланПрироста.Колонки.ДоляЯШТ.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Количество.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.КоличествоЯШТ.Видимость =  не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Процент.Видимость = не ПоказыватьСезонники;
	ЭлементыФормы.ПланПрироста.Колонки.Прирост.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.Продажи.Видимость = не ПоказыватьСезонники;
	Элементыформы.ПланПрироста.Колонки.План.Видимость = не ПоказыватьСезонники;

	
КонецПроцедуры

Процедура ТолькоПродажиПриИзменении(Элемент)
	// Вставить содержимое обработчика.
КонецПроцедуры

Процедура ПланПриростаСистемаРаботыНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	Если Элемент.списокВыбора.Количество()>0 Тогда
	Элемент.списокВыбора.Очистить();
    конецЕсли;
    Элемент.СписокВыбора.Добавить("По сезонным заказам");
    Элемент.СписокВыбора.Добавить("В текущем режиме");
    Элемент.СписокВыбора.Добавить("По сезонным + текущий режим");

КонецПроцедуры


Процедура СистемаРаботыБазаПриИзменении(Элемент)
	Для каждого стр из планПрироста Цикл
	стр.системаРаботы = СистемаРаботыБаза;	
	конецЦикла;	
	КонецПроцедуры

