<?xml version="1.0" encoding="UTF-8"?>
<SchemaFile xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema">
		<dataSource>
			<name>ИсточникДанных1</name>
			<dataSourceType>Local</dataSourceType>
		</dataSource>
		<dataSet xsi:type="DataSetQuery">
			<name>НаборДанных1</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Аналог</dataPath>
				<field>Аналог</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВПроизводстве</dataPath>
				<field>ВПроизводстве</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВПути</dataPath>
				<field>ВПути</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВРезерве</dataPath>
				<field>ВРезерве</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВЭД</dataPath>
				<field>ВЭД</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДисконтнаяКарта</dataPath>
				<field>ДисконтнаяКарта</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДоговорКонтрагента</dataPath>
				<field>ДоговорКонтрагента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументПродажи</dataPath>
				<field>ДокументПродажи</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПокупателя</dataPath>
				<field>ЗаказПокупателя</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПокупателяСезонный</dataPath>
				<field>ЗаказПокупателяСезонный</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПоставщику</dataPath>
				<field>ЗаказПоставщику</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПоставщикуСезонный</dataPath>
				<field>ЗаказПоставщикуСезонный</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗначениеУсловияАвтоматическойСкидки</dataPath>
				<field>ЗначениеУсловияАвтоматическойСкидки</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Качество</dataPath>
				<field>Качество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
				<role>
					<dimension xmlns="http://v8.1c.ru/8.1/data-composition-system/common">true</dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НоменклатураНоменклатурнаяГруппа</dataPath>
				<field>НоменклатураНоменклатурнаяГруппа</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НоменклатураПроизводитель</dataPath>
				<field>НоменклатураПроизводитель</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НоменклатураТипоразмер</dataPath>
				<field>НоменклатураТипоразмер</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Подразделение</dataPath>
				<field>Подразделение</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Проект</dataPath>
				<field>Проект</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПроцентАвтоматическихСкидок</dataPath>
				<field>ПроцентАвтоматическихСкидок</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПроцентСкидкиНаценки</dataPath>
				<field>ПроцентСкидкиНаценки</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СвободныйОстаток</dataPath>
				<field>СвободныйОстаток</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СерияНоменклатуры</dataPath>
				<field>СерияНоменклатуры</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СтатусПартии</dataPath>
				<field>СтатусПартии</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>УсловиеАвтоматическойСкидки</dataPath>
				<field>УсловиеАвтоматическойСкидки</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ХарактеристикаНоменклатуры</dataPath>
				<field>ХарактеристикаНоменклатуры</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Цена</dataPath>
				<field>Цена</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Продажи</dataPath>
				<field>Продажи</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Завод</dataPath>
				<field>Завод</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НоменклатураКод</dataPath>
				<field>НоменклатураКод</field>
				<title xmlns:d5p1="http://v8.1c.ru/8.1/data/core" xsi:type="d5p1:LocalStringType">
					<d5p1:item>
						<d5p1:lang>ru</d5p1:lang>
						<d5p1:content>Код</d5p1:content>
					</d5p1:item>
				</title>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ
	ПродажиОбороты.Номенклатура КАК Номенклатура,
	ПродажиОбороты.КоличествоОборот,
	ПродажиОбороты.ЗаказПокупателя
ПОМЕСТИТЬ Отбор
ИЗ
	РегистрНакопления.Продажи.Обороты(, , , Номенклатура.ВидТовара = ЗНАЧЕНИЕ(Перечисление.ВидыТоваров.Диски)) КАК ПродажиОбороты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ЗаказыПокупателейСезонные.Обороты КАК ЗаказыПокупателейСезонныеОбороты
		ПО ПродажиОбороты.ЗаказПокупателя = ЗаказыПокупателейСезонныеОбороты.ЗаказПокупателя
			И ПродажиОбороты.Номенклатура = ЗаказыПокупателейСезонныеОбороты.Номенклатура
ГДЕ
	ЗаказыПокупателейСезонныеОбороты.ЗаказПокупателя ЕСТЬ NULL 
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Отбор.Номенклатура,
	СУММА(Отбор.КоличествоОборот) КАК КоличествоОборот
ПОМЕСТИТЬ ПродажиБезСезонных
ИЗ
	Отбор КАК Отбор

СГРУППИРОВАТЬ ПО
	Отбор.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыНаСкладахОстатки.Номенклатура,
	ТоварыНаСкладахОстатки.КоличествоОстаток - ЗаказыПокупателейОстатки.КоличествоОстаток КАК СвободныйОстаток
ПОМЕСТИТЬ СвободныйОстатокП
ИЗ
	РегистрНакопления.ТоварыНаСкладах.Остатки({(&amp;КонецПериода)}, ) КАК ТоварыНаСкладахОстатки
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ЗаказыПокупателей.Остатки(&amp;КонецПериода {(&amp;КонецПериода)}, ЗаказПокупателя.Проверен = ИСТИНА) КАК ЗаказыПокупателейОстатки
		ПО ТоварыНаСкладахОстатки.Номенклатура = ЗаказыПокупателейОстатки.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ЗаказыПоставщикамОстатки.Номенклатура, ЗаказыПоставщикамСезонныеОстатки.Номенклатура) КАК Номенклатура,
	ЗаказыПоставщикамОстатки.КоличествоОстаток КАК ВПути,
	ЗаказыПоставщикамСезонныеОстатки.КоличествоОстаток КАК ВПроизводстве
ПОМЕСТИТЬ ВПутииПроизводстве
ИЗ
	РегистрНакопления.ЗаказыПоставщикам.Остатки({(&amp;КонецПериода)}, ВЭД = ЛОЖЬ) КАК ЗаказыПоставщикамОстатки
		ПОЛНОЕ СОЕДИНЕНИЕ РегистрНакопления.ЗаказыПоставщикамСезонные.Остатки(
				{(&amp;КонецПериода)},
				ДОБАВИТЬКДАТЕ(ЗаказПоставщикуСезонный.ДатаДействияПо, МЕСЯЦ, 1) &gt; &amp;КонецПериода
					И ВЭД = ЛОЖЬ) КАК ЗаказыПоставщикамСезонныеОстатки
		ПО ЗаказыПоставщикамОстатки.Номенклатура = ЗаказыПоставщикамСезонныеОстатки.Номенклатура
ГДЕ
	ЗаказыПоставщикамОстатки.КоличествоОстаток &gt; 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЗначенияСвойствОбъектов.Объект,
	ЗначенияСвойствОбъектов.Значение
ПОМЕСТИТЬ Заводы
ИЗ
	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
ГДЕ
	ЗначенияСвойствОбъектов.Свойство = &amp;Завод
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПродажиБезСезонных.Номенклатура,
	ПродажиБезСезонных.КоличествоОборот КАК Продажи,
	СвободныйОстатокП.СвободныйОстаток,
	ВПутииПроизводстве.ВПути,
	ВПутииПроизводстве.ВПроизводстве,
	ПродажиБезСезонных.Номенклатура.НоменклатурнаяГруппа,
	ПродажиБезСезонных.Номенклатура.Производитель,
	ПродажиБезСезонных.Номенклатура.Типоразмер,
	ПродажиБезСезонных.Номенклатура.Код,
	Заводы.Значение КАК Завод
ИЗ
	ПродажиБезСезонных КАК ПродажиБезСезонных
		ЛЕВОЕ СОЕДИНЕНИЕ СвободныйОстатокП КАК СвободныйОстатокП
		ПО ПродажиБезСезонных.Номенклатура = СвободныйОстатокП.Номенклатура
		ЛЕВОЕ СОЕДИНЕНИЕ ВПутииПроизводстве КАК ВПутииПроизводстве
		ПО ПродажиБезСезонных.Номенклатура = ВПутииПроизводстве.Номенклатура
		ЛЕВОЕ СОЕДИНЕНИЕ Заводы КАК Заводы
		ПО ПродажиБезСезонных.Номенклатура = Заводы.Объект</query>
		</dataSet>
		<totalField>
			<dataPath>ВПроизводстве</dataPath>
			<expression>Сумма(ВПроизводстве)</expression>
		</totalField>
		<totalField>
			<dataPath>ВПути</dataPath>
			<expression>Сумма(ВПути)</expression>
		</totalField>
		<totalField>
			<dataPath>СвободныйОстаток</dataPath>
			<expression>Сумма(СвободныйОстаток)</expression>
		</totalField>
		<totalField>
			<dataPath>Продажи</dataPath>
			<expression>Сумма(Продажи)</expression>
		</totalField>
		<parameter>
			<name>НачалоПериода</name>
			<title xmlns:d4p1="http://v8.1c.ru/8.1/data/core" xsi:type="d4p1:LocalStringType">
				<d4p1:item>
					<d4p1:lang>ru</d4p1:lang>
					<d4p1:content>Начало периода</d4p1:content>
				</d4p1:item>
			</title>
			<valueType>
				<Type xmlns="http://v8.1c.ru/8.1/data/core">xs:dateTime</Type>
				<DateQualifiers xmlns="http://v8.1c.ru/8.1/data/core">
					<DateFractions>DateTime</DateFractions>
				</DateQualifiers>
			</valueType>
			<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
			<useRestriction>false</useRestriction>
		</parameter>
		<parameter>
			<name>КонецПериода</name>
			<title xmlns:d4p1="http://v8.1c.ru/8.1/data/core" xsi:type="d4p1:LocalStringType">
				<d4p1:item>
					<d4p1:lang>ru</d4p1:lang>
					<d4p1:content>Конец периода</d4p1:content>
				</d4p1:item>
			</title>
			<valueType>
				<Type xmlns="http://v8.1c.ru/8.1/data/core">xs:dateTime</Type>
				<DateQualifiers xmlns="http://v8.1c.ru/8.1/data/core">
					<DateFractions>DateTime</DateFractions>
				</DateQualifiers>
			</valueType>
			<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
			<useRestriction>false</useRestriction>
		</parameter>
		<parameter>
			<name>Завод</name>
			<title xmlns:d4p1="http://v8.1c.ru/8.1/data/core" xsi:type="d4p1:LocalStringType">
				<d4p1:item>
					<d4p1:lang>ru</d4p1:lang>
					<d4p1:content>Завод</d4p1:content>
				</d4p1:item>
			</title>
			<valueType>
				<Type xmlns="http://v8.1c.ru/8.1/data/core" xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:ChartOfCharacteristicTypesRef.СвойстваОбъектов</Type>
			</valueType>
			<value xsi:nil="true"/>
			<useRestriction>false</useRestriction>
			<expression>ПланыВидовХарактеристик.свойстваОбъектов.НайтиПоКоду("90185")</expression>
		</parameter>
		<settingsVariant>
			<name xmlns="http://v8.1c.ru/8.1/data-composition-system/settings">Основной</name>
			<presentation xmlns="http://v8.1c.ru/8.1/data-composition-system/settings" xsi:type="xs:string">Основной</presentation>
		</settingsVariant>
	</dataCompositionSchema>
</SchemaFile>﻿<?xml version="1.0" encoding="UTF-8"?>
<Settings xmlns="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<selection>
		<item xsi:type="SelectedItemField">
			<field>Продажи</field>
		</item>
		<item xsi:type="SelectedItemField">
			<field>СвободныйОстаток</field>
		</item>
		<item xsi:type="SelectedItemField">
			<field>ВПути</field>
		</item>
		<item xsi:type="SelectedItemField">
			<field>ВПроизводстве</field>
		</item>
	</selection>
	<filter>
		<item xsi:type="FilterItemComparison">
			<left xsi:type="dcscor:Field">Продажи</left>
			<comparisonType>Greater</comparisonType>
			<right xsi:type="xs:decimal">0</right>
		</item>
	</filter>
	<item xsi:type="StructureItemGroup">
		<groupItems>
			<item xsi:type="GroupItemField">
				<field>НоменклатураНоменклатурнаяГруппа</field>
				<groupType>Items</groupType>
				<periodAdditionType>None</periodAdditionType>
				<periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionBegin>
				<periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionEnd>
			</item>
		</groupItems>
		<order>
			<item xsi:type="OrderItemAuto"/>
		</order>
		<selection>
			<item xsi:type="SelectedItemAuto"/>
		</selection>
		<item xsi:type="StructureItemGroup">
			<groupItems>
				<item xsi:type="GroupItemField">
					<field>НоменклатураКод</field>
					<groupType>Items</groupType>
					<periodAdditionType>None</periodAdditionType>
					<periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionBegin>
					<periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionEnd>
				</item>
				<item xsi:type="GroupItemField">
					<field>Номенклатура</field>
					<groupType>Items</groupType>
					<periodAdditionType>None</periodAdditionType>
					<periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionBegin>
					<periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionEnd>
				</item>
				<item xsi:type="GroupItemField">
					<field>Завод</field>
					<groupType>Items</groupType>
					<periodAdditionType>None</periodAdditionType>
					<periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionBegin>
					<periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</periodAdditionEnd>
				</item>
			</groupItems>
			<order>
				<item xsi:type="OrderItemAuto"/>
			</order>
			<selection>
				<item xsi:type="SelectedItemAuto"/>
			</selection>
		</item>
	</item>
</Settings>﻿<?xml version="1.0" encoding="UTF-8"?>
<SchemaFile xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema"/>
</SchemaFile>