
Процедура ПриОткрытии()
  Если не РольДоступна("яштФинДиректор") и глТекущийпользователь<>Справочники.Пользователи.НайтиПоКоду("Марешева (Новый)") Тогда
		ДокументСписок.Отбор["Исполнитель"].Использование = Истина;
		ДокументСписок.Отбор["Исполнитель"].ВидСравнения = ВидСравнения.Равно;
		ДокументСписок.Отбор["Исполнитель"].Значение = глТекущийпользователь;
		ЭлементыФормы.ДокументСписок.НастройкаОтбора["Исполнитель"].Доступность = Ложь;
	иначеесли глТекущийпользователь=Справочники.Пользователи.НайтиПоКоду("Марешева (Новый)") Тогда
		ДокументСписок.Отбор["Исполнитель"].Использование = Истина;
		ДокументСписок.Отбор["Исполнитель"].ВидСравнения = ВидСравнения.ВСписке;
		список = Новый СписокЗначений;
		список.Добавить(Справочники.Пользователи.НайтиПоКоду("Марешева (Новый)"));
		список.Добавить(Справочники.Пользователи.НайтиПоКоду("Серков"));
		ДокументСписок.Отбор["Исполнитель"].Значение = список;
		ЭлементыФормы.ДокументСписок.НастройкаОтбора["Исполнитель"].Доступность = Ложь;
	
		
   конецЕсли;

КонецПроцедуры

Процедура ДействияФормыПосмотретьСвод(Кнопка)
	перем ПериодПланирования;
	Форма = Документы.ПланированиеЗатрат.ПолучитьФорму("ФормаСвода");
	форма.Ответсвенный = ГлТекущийПользователь;
	Массив = Новый Массив;
	Массив.Добавить(Тип("СправочникСсылка.ПериодыПланирования"));
	ОписаниеТипов = Новый ОписаниеТипов(Массив,,,);
	Если ВвестиЗначение(ПериодПланирования, "Введите значение", ОписаниеТипов) Тогда	
		Форма.ПериодПланирования = ПериодПланирования;
		форма.Открыть();
	конецЕсли;
КонецПроцедуры
