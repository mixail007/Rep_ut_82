
Процедура ОбработкаПроведения(Отказ, Режим)
	//{{__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!
	Для Каждого ТекСтрокаЗатраты Из Затраты Цикл
		// регистр УК_ЗатратыПланФакт Приход
	Если	ТекСтрокаЗатраты.СуммаФакт>0 Тогда
		Движение = Движения.УК_ЗатратыПланФакт.Добавить();
		Движение.ВидДвижения = ВидДвиженияНакопления.Расход;
		Движение.Период = ДатаНачала;
		Движение.Подразделение = ТекСтрокаЗатраты.Подразделение;
		Движение.СтатьяЗатрат = ТекСтрокаЗатраты.СтатьяЗатрат;
		Движение.ДатаНачала = ДатаНачала;
		Движение.ДатаКонца = КонецДня(ДатаКонца);
		Движение.Сумма = ТекСтрокаЗатраты.СуммаФакт;
	КонецЕсли;	
	КонецЦикла;
	// записываем движения регистров
	Движения.УК_ЗатратыПланФакт.Записать();
	//}}__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
КонецПроцедуры

Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)
	
	Если НЕ Отказ Тогда
	
		обЗаписатьПротоколИзменений(ЭтотОбъект);
	
	КонецЕсли; 

КонецПроцедуры
