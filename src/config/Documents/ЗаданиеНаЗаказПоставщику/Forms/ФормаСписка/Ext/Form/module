
Процедура ДокументСписокПриПолученииДанных(Элемент, ОформленияСтрок)
	// Вставить содержимое обработчика.
	МассивЗаказов=новый Массив;
	Для каждого ОформлениеСтроки Из ОформленияСтрок Цикл
		МассивЗаказов.Добавить(ОформлениеСтроки.ДанныеСтроки.Ссылка);
	КонецЦикла;
	Запрос=Новый Запрос;

	Запрос = новый Запрос;
	Запрос.УстановитьПараметр("СписокЗаданий",МассивЗаказов);
	Запрос.Текст="ВЫБРАТЬ
	             |	СУММА(ЗаданиеНаЗаказПоставщикуТовары.Количество) КАК КоличествоЗаказаено,
	             |	ЗаданиеНаЗаказПоставщикуТовары.Ссылка КАК ЗаданиеНаЗаказ
	             |ПОМЕСТИТЬ втЗаданияНаЗаказ
	             |ИЗ
	             |	Документ.ЗаданиеНаЗаказПоставщику.Товары КАК ЗаданиеНаЗаказПоставщикуТовары
	             |ГДЕ
	             |	ЗаданиеНаЗаказПоставщикуТовары.Ссылка В(&СписокЗаданий)
	             |
	             |СГРУППИРОВАТЬ ПО
	             |	ЗаданиеНаЗаказПоставщикуТовары.Ссылка
	             |;
	             |
	             |////////////////////////////////////////////////////////////////////////////////
	             |ВЫБРАТЬ
	             |	ЗаказПоставщикуСезонныйТовары.Ссылка.ЗаданиеНаЗаказ,
	             |	СУММА(ЗаказПоставщикуСезонныйТовары.Количество) КАК Количество
	             |ПОМЕСТИТЬ втЗаказыПоставщику
	             |ИЗ
	             |	Документ.ЗаказПоставщикуСезонный.Товары КАК ЗаказПоставщикуСезонныйТовары
	             |ГДЕ
	             |	ЗаказПоставщикуСезонныйТовары.Ссылка.ЗаданиеНаЗаказ В
	             |			(ВЫБРАТЬ
	             |				втЗаданияНаЗаказ.ЗаданиеНаЗаказ
	             |			ИЗ
	             |				втЗаданияНаЗаказ)
	             |	И ЗаказПоставщикуСезонныйТовары.Ссылка.Проведен
	             |
	             |СГРУППИРОВАТЬ ПО
	             |	ЗаказПоставщикуСезонныйТовары.Ссылка.ЗаданиеНаЗаказ
	             |;
	             |
	             |////////////////////////////////////////////////////////////////////////////////
	             |ВЫБРАТЬ
	             |	втЗаданияНаЗаказ.ЗаданиеНаЗаказ,
	             |	втЗаданияНаЗаказ.КоличествоЗаказаено,
	             |	ЕСТЬNULL(втЗаказыПоставщику.Количество, 0) КАК КоличествоРазмещено
	             |ИЗ
	             |	втЗаданияНаЗаказ КАК втЗаданияНаЗаказ
	             |		ЛЕВОЕ СОЕДИНЕНИЕ втЗаказыПоставщику КАК втЗаказыПоставщику
	             |		ПО втЗаданияНаЗаказ.ЗаданиеНаЗаказ = втЗаказыПоставщику.ЗаданиеНаЗаказ";
				 
				 Рез = Запрос.Выполнить().Выгрузить();
				 Для каждого ОформлениеСтроки из ОформленияСтрок цикл
					 стр=Рез.Найти(ОформлениеСтроки.ДанныеСтроки.Ссылка,"ЗаданиеНаЗаказ");
					 Если стр<>неопределено тогда
					 	ОформлениеСтроки.Ячейки.КоличествоЗаказано.УстановитьТекст(Формат(стр.КоличествоЗаказаено,""));
                        ОформлениеСтроки.Ячейки.КоличествоРазмещено.УстановитьТекст(Формат(стр.КоличествоРазмещено,""));
					 КонецЕсли;
				 КонецЦикла;
КонецПроцедуры
