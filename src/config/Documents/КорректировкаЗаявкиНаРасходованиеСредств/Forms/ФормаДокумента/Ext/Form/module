
Процедура КоманднаяПанель1ЗаполнитьДанныеЗаявкиИсточника(Кнопка)
	// Если 
	
	Если ЗначениеНеЗаполнено(ЗаявкаНаРасходованиеСредствИсточник) Тогда
		Сообщить ("Необходимо выбрать заявку-источник",СтатусСообщения.Важное);
		Возврат;
	КонецЕсли;	
	
	Если Проведен Тогда
		Сообщить ("Заполнение возможно только в непроведенном документе.",СтатусСообщения.Важное);
		Возврат;
	КонецЕсли;	
	
	Запрос = Новый Запрос;
	
	Запрос.Текст="ВЫБРАТЬ
	             |	ДоговорКонтрагента,
	             |	Сделка,
	             |	СтатьяДвиженияДенежныхСредств,
	             |	СуммаОстаток СуммаПлатежа
	             |ИЗ
	             |	РегистрНакопления.ЗаявкиНаРасходованиеСредств.Остатки(, ЗаявкаНаРасходование = &ЗаявкаНаРасходование)";
	Запрос.УстановитьПараметр("ЗаявкаНаРасходование",ЗаявкаНаРасходованиеСредствИсточник);			 
	
	ДанныеЗаявкиИсточник.Очистить();
	
	ДанныеЗаявкиИсточник.Загрузить(Запрос.Выполнить().Выгрузить());
	
КонецПроцедуры

Процедура КоманднаяПанель2ЗаполнитьДанныеЗаявкиПриемника(Кнопка)
Запрос	= Новый Запрос;
Запрос.Текст="ВЫБРАТЬ ДоговорКонтрагента,
| Сделка,
| СтатьяДвиженияДенежныхСредств
//| СуммаПлатежа
|ИЗ
|	Документ.ЗаявкаНаРасходованиеСредств.РасшифровкаПлатежа
|	ГДЕ Ссылка=&ЗаявкаНаРасходование";

Запрос.УстановитьПараметр("ЗаявкаНаРасходование",ЗаявкаНаРасходованиеСредствПриемник);
ДанныеЗаявкиПриемник.Очистить();
ДанныеЗаявкиПриемник.Загрузить(Запрос.Выполнить().Выгрузить());



КонецПроцедуры

Процедура ПриОткрытии()
	Если ЭтоНовый() Тогда
	Ответственный = глТекущийПользователь;
	КонецЕсли;
КонецПроцедуры
