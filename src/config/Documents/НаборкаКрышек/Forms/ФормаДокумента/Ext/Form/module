
Процедура ДействияФормыСтруктураПодчиненности(Кнопка)
	ПоказатьСтруктуруПодчиненностиДокумента(Ссылка);
КонецПроцедуры

Процедура ОсновныеДействияФормыкнПечатьКрышкиЗаказ(Кнопка)
	Если ЗначениеЗаполнено(ДокументОснование) тогда
		имя = "Крышки заказ";
		имяМакета = Справочники.ДополнительныеПечатныеФормы.НайтиПоНаименованию(имя); 
		
		ИмяФайла2 = КаталогВременныхФайлов()+"PrnFormKr.tmp";
		ОбъектВнешнейФормы2 = имяМакета.ПолучитьОбъект();
		Если ОбъектВнешнейФормы2 = Неопределено Тогда
			Сообщить("Ошибка получения внешней печ.формы '"+имя+"'. Возможно форма была удалена или переименована.", СтатусСообщения.Важное);
			Возврат;
		КонецЕсли;
		
		ДвоичныеДанные2 = ОбъектВнешнейФормы2.ХранилищеВнешнейОбработки.Получить();
		ДвоичныеДанные2.Записать(ИмяФайла2);
		Обработка2 = ВнешниеОбработки.Создать(ИмяФайла2);
        Обработка2.СсылкаНаОбъект = ДокументОснование.Ссылка;
		ТабДокумент2 = Обработка2.Печать();
        ТабДокумент2.Показать();
	КонецЕсли;
КонецПроцедуры
