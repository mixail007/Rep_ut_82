
Процедура ПриОткрытии()
	
	Если ЭтоНовый() Тогда
		
		Дата = КонецМесяца(ТекущаяДата());
		
		Запрос = Новый Запрос;
		Запрос.УстановитьПараметр("Должность", Справочники.ДолжностиОрганизаций.НайтиПоНаименованию("2. Менеджер по транспорту (прямого направления)"));
		Запрос.Текст = "ВЫБРАТЬ
		               |	СотрудникиДляРасчетаМотивации.Пользователь
		               |ИЗ
		               |	РегистрСведений.СотрудникиДляРасчетаМотивации КАК СотрудникиДляРасчетаМотивации
		               |ГДЕ
		               |	СотрудникиДляРасчетаМотивации.Должность = &Должность";
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СтрТЧ = ДанныеПоСотрудникам.Добавить();
			СтрТЧ.Показатель = "Передача документов в бухгалтерию";
			СтрТЧ.Сотрудник = Результат.Пользователь;
			СтрТЧ.ЗначениеПоказателя = Ложь;
		КонецЦикла;
		
		Запрос = Новый Запрос;
		Запрос.Текст = "ВЫБРАТЬ
		               |	СотрудникиДляРасчетаМотивации.Пользователь
		               |ИЗ
		               |	РегистрСведений.СотрудникиДляРасчетаМотивации КАК СотрудникиДляРасчетаМотивации";
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СтрТЧ = ДанныеПоСотрудникам.Добавить();
			СтрТЧ.Сотрудник = Результат.Пользователь;
			СтрТЧ.ЗначениеПоказателя = 0;
		КонецЦикла;
	КонецЕсли;
	
	УстановитьОтборИВидимостьОбъектов();

КонецПроцедуры

Процедура УстановитьОтборИВидимостьОбъектов()
	
	ЭлементыФормы.ДанныеПоСотрудникамПередачаДокументов.ОтборСтрок.Показатель.Использование = Истина;
	ЭлементыФормы.ДанныеПоСотрудникамПередачаДокументов.ОтборСтрок.Показатель.ВидСравнения = ВидСравнения.Равно;
	ЭлементыФормы.ДанныеПоСотрудникамПередачаДокументов.ОтборСтрок.Показатель.Значение = "Передача документов в бухгалтерию"; 
	
	ЭлементыФормы.ДанныеПоСотрудникамДепремирование.ОтборСтрок.Показатель.Использование = Истина;
	ЭлементыФормы.ДанныеПоСотрудникамДепремирование.ОтборСтрок.Показатель.ВидСравнения = ВидСравнения.НеРавно;
	ЭлементыФормы.ДанныеПоСотрудникамДепремирование.ОтборСтрок.Показатель.Значение = "Передача документов в бухгалтерию"; 
	
КонецПроцедуры


Процедура ДатаПриИзменении(Элемент)
	
	Дата = КонецМесяца(Дата);
	
КонецПроцедуры


Процедура ДанныеПоСотрудникамДепремированиеЗначениеПоказателяПриИзменении(Элемент)
	
	ТекДанные = ЭлементыФормы.ДанныеПоСотрудникамДепремирование.ТекущиеДанные;
	ТекДанные.ЗначениеПоказателя = ТекДанные.ЗначениеПоказателя * (-1);
	
КонецПроцедуры

