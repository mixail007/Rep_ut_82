

Процедура РегистрСведенийСписокГород1НачалоВыбора(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = ЛОЖЬ;
	
	//Отбор1 = новый Структура("КодРегионаВКоде", 50); //Московская обл.
	//Отбор1.Вставить("ТипАдресногоЭлемента", 3); // города!
	//список1 = РегистрыСведений.АдресныйКлассификатор.Выбрать(Отбор1);
	
	форма = РегистрыСведений.АдресныйКлассификатор.ПолучитьФорму("ФормаВыбора");
	
	списЗнач1 = новый СписокЗначений;
	списЗнач1.Добавить(50); списЗнач1.Добавить(77); // Моск.обл. и Москва
	форма.отбор.КодРегионаВКоде.ВидСравнения = ВидСравнения.ВСписке;
	форма.отбор.КодРегионаВКоде.Значение  = списЗнач1;
	форма.отбор.КодРегионаВКоде.Использование = истина;
	
	списЗнач2 = новый СписокЗначений;
	списЗнач2.Добавить(3); списЗнач2.Добавить(4);  //города и поселки
	форма.отбор.ТипАдресногоЭлемента.ВидСравнения = ВидСравнения.ВСписке;
	форма.отбор.ТипАдресногоЭлемента.Значение  = списЗнач2;
	форма.отбор.ТипАдресногоЭлемента.Использование = истина;
	
	рез = форма.ОткрытьМодально(); 
	
Если рез<>неопределено тогда
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	|	АдресныйКлассификатор.Наименование
	|ИЗ
	|	РегистрСведений.АдресныйКлассификатор КАК АдресныйКлассификатор
	|ГДЕ
	|	АдресныйКлассификатор.Код = &Код";
	Запрос.УстановитьПараметр("Код", рез.Код);
	Результат = Запрос.Выполнить();
	Выборка = Результат.Выбрать();
	
	Если Выборка.Следующий() тогда
		Элемент.Значение  = выборка.Наименование;
	КонецЕсли;	
КонецЕсли;

КонецПроцедуры


Процедура РегистрСведенийСписокГород1АвтоПодборТекста(Элемент, Текст, ТекстАвтоПодбора, СтандартнаяОбработка)
	// Вставить содержимое обработчика.
КонецПроцедуры

