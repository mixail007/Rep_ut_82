Процедура РегистрСведенийСписокПередОкончаниемРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования, Отказ)
	
	СтрокаСписка = Элемент.ТекущиеДанные;
	
	Если (Не СтрокаСписка.СхемаОбменаДанными.Пустая()) И (СтрокаСписка.СхемаОбменаДанными.ИспользуетсяПланОбмена) И (Не СтрокаСписка.УзелОбмена.Пустая()) Тогда
		Если СтрокаСписка.СхемаОбменаДанными.ИмяПланаОбмена <>СтрокаСписка.УзелОбмена.Метаданные().Имя Тогда
			Предупреждение("Указанный узел обмена не принадлежит плану обмена" + Символы.ПС +  "опеределенному в выбранной схеме обмена!");
			Отказ = Истина;
		КонецЕсли;	
	КонецЕсли;	
			
КонецПроцедуры

Процедура РегистрСведенийСписокУзелОбменаНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	СтрокаСписка = ЭлементыФормы.РегистрСведенийСписок.ТекущиеДанные;
	
	Если СтрокаСписка.СхемаОбменаДанными.Пустая() Тогда
		Предупреждение("Не указана схема обмена данными!");
		СтандартнаяОбработка = Ложь;
	ИначеЕсли НЕ СтрокаСписка.СхемаОбменаДанными.ИспользуетсяПланОбмена Тогда
		Предупреждение("Выбранная схема обмена данными не предполагает использование плана обмена!");
		СтандартнаяОбработка = Ложь;
	ИначеЕсли СтрокаСписка.УзелОбмена = Неопределено Тогда		
		ИмяПланаОбмена = СтрокаСписка.СхемаОбменаДанными.ИмяПланаОбмена;
		СтрокаСписка.УзелОбмена = ПланыОбмена[ИмяПланаОбмена].ПустаяСсылка();
	КонецЕсли;
	
КонецПроцедуры