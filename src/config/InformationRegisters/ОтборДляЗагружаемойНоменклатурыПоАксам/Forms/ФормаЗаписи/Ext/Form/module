//10.10.2018 - закрываем и чистим "лишнее" автоматически !
Процедура ПапкаПриИзменении(Элемент)
	
	ЭлементыФормы.НоменклатурнаяГруппа.Доступность = Папка.Пустая();
	Если не Папка.Пустая() тогда
		НоменклатурнаяГруппа = справочники.НоменклатурныеГруппы.ПустаяСсылка();
		Предупреждение("При выборе Папки - ограничения на всю Ном.Группу - выключено!",30);
	КонецЕсли;	

КонецПроцедуры

Процедура НоменклатураПриИзменении(Элемент)
	
	ЭлементыФормы.НоменклатурнаяГруппа.Доступность = Папка.Пустая() и Номенклатура.Пустая();
	ЭлементыФормы.Папка.Доступность = Номенклатура.Пустая();
	
	Если не Номенклатура.Пустая() тогда
		Папка = справочники.Номенклатура.ПустаяСсылка();
		НоменклатурнаяГруппа = справочники.НоменклатурныеГруппы.ПустаяСсылка();
		Предупреждение("При выборе товара - ограничения на всю Папку и на Всю Ном.Группу - выключено!",30);
	КонецЕсли;	

КонецПроцедуры

Процедура ПриОткрытии()
	Если (НЕ Номенклатура.Пустая() и НЕ Папка.Пустая())
	или  (НЕ Номенклатура.Пустая() и НЕ НоменклатурнаяГруппа.Пустая())
	или  (НЕ Папка.Пустая() 	   и НЕ НоменклатурнаяГруппа.Пустая()) тогда
		Предупреждение("   НЕПРАВИЛЬНО ЗАПОЛНЕНЫ ПОЛЯ!
					   |Должно быть выбрано ТОЛЬКО Одно поле!
					   |	Удалите лишний отбор!", 30);
	Иначе				
		ЭлементыФормы.НоменклатурнаяГруппа.Доступность = Папка.Пустая() и Номенклатура.Пустая();
		ЭлементыФормы.Папка.Доступность = Номенклатура.Пустая();
	КонецЕсли;				
КонецПроцедуры

Процедура ПередЗаписью(Отказ)
	Если Контрагент.Пустая() тогда
		Предупреждение("Контрагент - не может быть пустым!", 30);
		Отказ = Истина;
	КонецЕсли;
	Если Папка.Пустая() и Номенклатура.Пустая() и НоменклатурнаяГруппа.Пустая() тогда
		Предупреждение("НЕ ВЫБРАНО ни одного условия отбора!", 30);
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры
