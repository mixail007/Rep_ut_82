Перем фл;

Процедура КнопкаВыполнитьНажатие(Кнопка)
	// Вставить содержимое обработчика.
	Если (фл) тогда 
	КодНоменклатурыОтбор = сокрлп(ЭлементыФормы.СписокСоответствий.ТекущиеДанные.код);
	конецесли;
	закрыть(фл);
КонецПроцедуры

Процедура ПриОткрытии()	
	//й = 0;
	//Стр = РезультатыПоиска.Получить(й);
	ФлагВыходаИзНастроек = ложь;
	фл = ложь;
	попытка 
	Если не(результатыпоиска.количество() = 0)тогда 
	КодНоменклатурыОтбор = 0;
	Строка = Результатыпоиска.найти(НоменклатураОтбор,"ЗначениеРеквизита");
	Если не(строка = неопределено) тогда 
		Индекс = Результатыпоиска.Индекс(Строка);
		НомерГруппы = Строка.номергруппы;
		Для й = 0 по РезультатыПоиска.количество()-1 цикл
			строка = Результатыпоиска.получить(й);
			если (строка.номергруппы = номергруппы) и (Индекс<>й) тогда 
				фл = истина;
				стр = ТаблЗнач.Добавить();
				стр.Наименование = Строка.ЗначениеРеквизита;
				стр.Код = Строка.Ссылка.Код;
			конецесли;	
		КонецЦикла
	конецесли;
	конецесли;
	исключение 
		фл = ложь;
	конецпопытки
КонецПроцедуры

Процедура СписокСоответствийНаименованиеОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	// Вставить содержимое обработчика.
	фл = ложь;
КонецПроцедуры

Процедура Кнопка1Нажатие(Элемент)
	// Вставить содержимое обработчика.
	Если (фл) тогда 
	КодНоменклатурыОтбор = сокрлп(ЭлементыФормы.СписокСоответствий.ТекущиеДанные.код);
	конецесли;
	закрыть(фл);
КонецПроцедуры

Процедура ПриЗакрытии()
	// Вставить содержимое обработчика.
КонецПроцедуры

