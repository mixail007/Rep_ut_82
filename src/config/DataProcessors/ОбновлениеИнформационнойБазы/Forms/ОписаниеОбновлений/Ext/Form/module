// Процедура выводит целиком макет описаний изменений во всех версиях.
//
Процедура ВывестиМакетОписаниеОбновлений(текст1="") Экспорт

	ДокументОписаниеОбновлений = ЭлементыФормы.ДокументОписаниеОбновлений;
	// текст1 пока игнорируется
	МакетОписаниеОбновлений    = ПодготовитьМакетОписаниеОбновлений(текст1); //текст1
	ДокументОписаниеОбновлений.Очистить();
	ДокументОписаниеОбновлений.Вывести(МакетОписаниеОбновлений);

КонецПроцедуры // ВывестиМакетОписаниеОбновлений()

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

// Обработчик события Действие элемента КоманднаяПанель.ВывестиОписаниеОбновлений.
//
Процедура ДействиеКоманднаяПанельВывестиОписаниеОбновлений(Кнопка)

	ВывестиМакетОписаниеОбновлений( ?(ИнфоПоКонфигурации, "Конфигурация", "")+?(ИнфоОбщая,"Общая","") );

КонецПроцедуры

// Обработчик события ОбработкаРасшифровки элемента ПолеТабличногоДокумента.
//
Процедура ПолеТабличногоДокументаОбработкаРасшифровки(Элемент, Расшифровка, СтандартнаяОбработка)

	Если ТипЗнч(Расшифровка) = Тип("Форма") Тогда
		// В расшифровке может содержаться какая-либо форма.
		СтандартнаяОбработка = Ложь;
		Расшифровка.Открыть();
	ИначеЕсли Расшифровка = "ФормаНовойОрганизации" Тогда

		СтандартнаяОбработка = Ложь;
		Организации = Справочники.Организации.Выбрать();
		Организация = Неопределено;
		
		Если Организации.Следующий() Тогда
			Организация = Организации.ПолучитьОбъект();
		КонецЕсли;

		Если Организация = Неопределено Тогда
			ФормаНовойОрганизации            = Справочники.Организации.ПолучитьФормуНовогоЭлемента();
		Иначе
			ФормаНовойОрганизации            = Организация.ПолучитьФорму();
		КонецЕсли;
		ФормаНовойОрганизации.Открыть();
		
	ИначеЕсли  ТипЗнч(Расшифровка) = Тип("Строка") Тогда
		СтандартнаяОбработка = Ложь;
		ЗапуститьПриложение( Расшифровка );
	КонецЕсли;

КонецПроцедуры

Процедура ПриОткрытии()
	ИнфоПоКонфигурации = истина;
	ИнфоОбщая = истина;
	ВывестиМакетОписаниеОбновлений( ?(ИнфоПоКонфигурации, "Конфигурация", "")+?(ИнфоОбщая,"Общая","") );

КонецПроцедуры

Процедура ИнфоПоКонфигурацииПриИзменении(Элемент)
		ВывестиМакетОписаниеОбновлений( ?(ИнфоПоКонфигурации, "Конфигурация", "")+?(ИнфоОбщая,"Общая","") );
КонецПроцедуры

Процедура КоманднаяПанельФормыДобавить(Кнопка)
	регСв = РегистрыСведений.ИнформацияДляМенеджеров.ПолучитьФорму("ФормаСписка");
	регСв.Открыть();
КонецПроцедуры




