
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)

	НоменклатураШКИнициализация();

КонецПроцедуры

Процедура ПриЗакрытии()

	СохранитьЗначение("НастройкаОтчетыНоменклатураШКНоменклатураШК_79eed712-2c17-4542-841c-7853a284ac59", ПостроительОтчетаНоменклатураШК.ПолучитьНастройки());

КонецПроцедуры

Процедура ДействияФормыНоменклатураШКНастройка(Кнопка)
	//{{КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_НАСТРОЙКА(НоменклатураШК)
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	Форма = ОтчетОбъект.ПолучитьФорму("НоменклатураШКНастройка");
	Форма.ПостроительОтчета = ПостроительОтчетаНоменклатураШК;
	Настройка = ПостроительОтчетаНоменклатураШК.ПолучитьНастройки();
	Если Форма.ОткрытьМодально() = Истина Тогда
		НоменклатураШКВывести();
	Иначе
		ПостроительОтчетаНоменклатураШК.УстановитьНастройки(Настройка);
	КонецЕсли;

	//}}КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_НАСТРОЙКА
КонецПроцедуры

Процедура ДействияФормыНоменклатураШКСформировать(Кнопка)
	//{{КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПРОЦЕДУРА_ВЫЗОВА(НоменклатураШК)
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	НоменклатураШКВывести();

	//}}КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПРОЦЕДУРА_ВЫЗОВА
КонецПроцедуры

Процедура НоменклатураШКВывести() ЭКСПОРТ
	//{{КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_ВЫПОЛНИТЬ(НоменклатураШК)
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	ЭлементыФормы.ПолеТабличногоДокумента.Очистить();

	ПостроительОтчетаНоменклатураШК.Параметры.Вставить("Родитель", Родитель);

	ПостроительОтчетаНоменклатураШК.Выполнить();
	ПостроительОтчетаНоменклатураШК.РазмещениеИзмеренийВСтроках = ТипРазмещенияИзмерений.Вместе;
	ПостроительОтчетаНоменклатураШК.РазмещениеРеквизитовИзмеренийВСтроках = ТипРазмещенияРеквизитовИзмерений.Отдельно;
	ПостроительОтчетаНоменклатураШК.РазмещениеРеквизитовИзмеренийВКолонках = ТипРазмещенияРеквизитовИзмерений.Отдельно;
	ПостроительОтчетаНоменклатураШК.МакетОформления = ПолучитьМакетОформления(СтандартноеОформление.Классика);
	ПостроительОтчетаНоменклатураШК.Вывести(ЭлементыФормы.ПолеТабличногоДокумента);

	//}}КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_ВЫПОЛНИТЬ
КонецПроцедуры

Процедура НоменклатураШКИнициализация()
	//{{КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_ИНИЦИАЛИЗАЦИЯ(НоменклатураШК)
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	ПостроительОтчетаНоменклатураШК.Текст =
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	Номенклатура.Код как Код1С,
	|	ВЫРАЗИТЬ(ЕСТЬNULL(Штрихкоды.Штрихкод, ""  ---нет---  "") КАК СТРОКА(13)) КАК ШтрихКод,
	|	Номенклатура.Ссылка как Номенклатура,
	//|	Номенклатура.Наименование,
	|	Номенклатура.ЕдиницаХраненияОстатков.Вес КАК Вес,
	|	Номенклатура.КодСБИС
	|ИЗ
	|	Справочник.Номенклатура КАК Номенклатура
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Штрихкоды КАК Штрихкоды
	|		ПО (Штрихкоды.Владелец = Номенклатура.Ссылка)
	|ГДЕ
	|	Номенклатура.Родитель = &Родитель
	|	И (НЕ Номенклатура.ПометкаУдаления)";
	ПостроительОтчетаНоменклатураШК.ЗаполнитьНастройки();
	ПостроительОтчетаНоменклатураШК.ЗаполнениеРасшифровки = ВидЗаполненияРасшифровкиПостроителяОтчета.ЗначенияГруппировок;
	ПостроительОтчетаНоменклатураШК.ТекстЗаголовка = "Номенклатура ШК";
	Настройка = ВосстановитьЗначение("НастройкаОтчетыНоменклатураШКНоменклатураШК_79eed712-2c17-4542-841c-7853a284ac59");
	Если Настройка <> Неопределено Тогда
		ПостроительОтчетаНоменклатураШК.УстановитьНастройки(Настройка);
	КонецЕсли;

	//}}КОНСТРУКТОР_ВЫХОДНЫХ_ФОРМ_ПОСТРОИТЕЛЬОТЧЕТА_ИНИЦИАЛИЗАЦИЯ
КонецПроцедуры








