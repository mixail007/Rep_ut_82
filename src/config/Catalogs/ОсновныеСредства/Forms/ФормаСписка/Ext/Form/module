// Хранит дерево макетов печатных форм
Перем мДеревоМакетов;

// Хранит элемент управления подменю печати
Перем мПодменюПечати;


Процедура УстановитьКнопкиПечати()
	// { Лапенков
	//НовыйОбъект = Справочники.ОсновныеСредства.СоздатьЭлемент();
	//мДеревоМакетов = ПолучитьДеревоМакетовПечати(НовыйОбъект, НовыйОбъект.ПолучитьСтруктуруПечатныхФорм(), Новый Действие("ОсновныеДействияФормыПечать"), Новый Действие("ОсновныеДействияФормыУстановитьПечатьПоУмолчанию"));

	//мПодменюПечати = ЭлементыФормы.ДействияФормы.Кнопки.ПодменюПечати;

	//СформироватьПодменю(мДеревоМакетов, мПодменюПечати,Истина,Истина);
	// } Лапенков
	
КонецПроцедуры // ()

Процедура ДействияФормыДействие1(Кнопка)

	ОС = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Если ЗначениеНеЗаполнено(ОС) Тогда
		ОС = Справочники.ОсновныеСредства.ПустаяСсылка();
	КонецЕсли;
	
	ФормаРегистра = РегистрыНакопления.ОплатыОСДляУСН.ПолучитьФормуСписка();
	ФормаРегистра.Отбор.ОсновноеСредство.Использование = Истина;
	ФормаРегистра.Отбор.ОсновноеСредство.Значение = ОС;
	ФормаРегистра.Открыть();
	
КонецПроцедуры

Процедура СправочникСписокПриАктивизацииСтроки(Элемент)
	
	ЭлементыФормы.СправочникДерево.ТекущаяСтрока = ЭлементыФормы.СправочникСписок.ТекущийРодитель;
	
КонецПроцедуры

// Обработчик события элемента КоманднаяПанельФормы.ДействиеКатегории.
//
Процедура ДействияФормыДействиеКатегории(Кнопка)

	Если ЗначениеНеЗаполнено(ЭлементыФормы.СправочникСписок.ТекущаяСтрока) Тогда
		Возврат;
	КонецЕсли;
	Форма = Обработки.КатегорииОбъекта.ПолучитьФорму("КатегорииОбъекта", ЭтаФорма, );
	Форма.ОбъектОтбораКатегорий = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Форма.ПрочитатьЗаполнитьКатегорииОбъекта();
	Форма.Открыть();

КонецПроцедуры


// Обработчик события элемента КоманднаяПанельФормы.ДействиеСвойства.
//
Процедура ДействияФормыДействиеСвойства(Кнопка)

	Если ЗначениеНеЗаполнено(ЭлементыФормы.СправочникСписок.ТекущаяСтрока) Тогда
		Возврат;
	КонецЕсли;
	Форма = Обработки.ЗначенияСвойствОбъекта.ПолучитьФорму("ЗначенияСвойствОбъекта", ЭтаФорма, );
	Форма.ОбъектОтбораЗначений   = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Форма.ОбъектОтбораНазначений = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Форма.ПрочитатьЗаполнитьСвойстваИЗначения();
	Форма.Открыть();

КонецПроцедуры

// Процедура вызывается при нажатии кнопки "Групповое добавление" командной 
// панели формы, вызывает форму группового добавления элементов справочника.
//
Процедура ДействияФормыГрупповоеДобавление(Кнопка)
		
	ФормаГрупповогоВвода = Справочники.ОсновныеСредства.ПолучитьФорму("ФормаГрупповогоДобавления", ЭтаФорма);
	ФормаГрупповогоВвода.Открыть();
	
КонецПроцедуры // ДействияФормыГрупповоеДобавление()

Процедура ПриОткрытии()
	
	УстановитьКнопкиПечати();
	
	
КонецПроцедуры //ПриОткрытии()

// Процедура - обработчик нажатия на кнопку "Печать"
//
Процедура ОсновныеДействияФормыПечать(Кнопка)
	
	Ссылка = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Если Не Ссылка = Неопределено Тогда
		Объект = Ссылка.ПолучитьОбъект();
	    Объект.Печать("ОС6_2003упр");
    КонецЕсли;
	//Если Не Ссылка = Неопределено Тогда
	//	Объект = Ссылка.ПолучитьОбъект();
	//	ПечатьПоДополнительнойКнопке(мДеревоМакетов, Объект, , Кнопка.Текст);
	//	
	//КонецЕсли;
	 
	
	
КонецПроцедуры

// Процедура - обработчик нажатия на кнопку "Установить печать по умолчанию"
//
Процедура ОсновныеДействияФормыУстановитьПечатьПоУмолчанию(Кнопка)
	
	//Если НазначитьКнопкуПечатиПоУмолчанию(мДеревоМакетов, "ОсновныеСредства") Тогда
	//	
	//	УстановитьКнопкиПечати();
	//	
	//КонецЕсли; 
	
	
КонецПроцедуры
