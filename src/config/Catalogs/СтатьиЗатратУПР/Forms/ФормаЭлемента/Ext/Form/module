
Процедура ПриОткрытии()
	Если НЕ ЭтоНовый() Тогда
		УстановитьЭлементыИсторииКнопка(Ссылка, ЭтаФорма);
	КонецЕсли; 
КонецПроцедуры

Процедура ВыводИстории(Элемент)
	
	ВывестиИсторию(Ссылка, ЭтаФорма);
	
КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	Если НЕ ПолучитьЗначениеПоУмолчанию(ПараметрыСеанса.ТекущийПользователь, "СтатьиЗатратРазрешитьИзменять") Тогда
		Сообщить("Вам не разрешено изменять статьи затрат!", СтатусСообщения.Важное);
		Отказ = Истина;
		Возврат;
	КонецЕсли;
	
КонецПроцедуры

Процедура КоманднаяПанель1УстановитьОсновным(Кнопка)
	// Вставить содержимое обработчика.
	Если (ЗначениеЗаполнено(ЭлементыФормы.Ответственные.ТекущиеДанные.Ответственный)) и (Ответственный = ЭлементыФормы.Ответственные.ТекущиеДанные.Ответственный) Тогда 
		Ответственный = Справочники.Пользователи.ПустаяСсылка();		
	ИначеЕсли ЗначениеЗаполнено(ЭлементыФормы.Ответственные.ТекущиеДанные.Ответственный) Тогда
		Ответственный = ЭлементыФормы.Ответственные.ТекущиеДанные.Ответственный;	
	КонецЕсли;
	
КонецПроцедуры

Процедура ОтветственныеПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)
	// Вставить содержимое обработчика.
	Если  ЗначениеЗаполнено(Элемент.ТекущиеДанные.Ответственный) и (Ответственный = Элемент.ТекущиеДанные.Ответственный) Тогда 
		ОформлениеСтроки.Шрифт = Новый Шрифт(ОформлениеСтроки.Шрифт, , , истина);
	КонецЕсли;
КонецПроцедуры
	
	
