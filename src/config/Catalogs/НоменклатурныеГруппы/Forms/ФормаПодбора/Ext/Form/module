// Процедура - обработчик события ПриЗакрытии
//
Процедура ПриЗакрытии()
	
	Параметры = Новый Структура;
	Параметры.Вставить("ЗапрашиватьКоличество", ЗапрашиватьКоличество);
	
	СохранитьЗначение("НоменклатурныеГруппы_ФормаПодбора_Параметры", Параметры);
	
КонецПроцедуры // ПриЗакрытии()

// Процедура - обработчик события ПриОткрытии
//
Процедура ПриОткрытии()
	
	Параметры = ВосстановитьЗначение("НоменклатурныеГруппы_ФормаПодбора_Параметры");
	Если Не Параметры = Неопределено Тогда
		Если Параметры.Свойство("ЗапрашиватьКоличество") Тогда
			ЗапрашиватьКоличество = Параметры.ЗапрашиватьКоличество;
		Иначе
			ЗапрашиватьКоличество = Истина;
		КонецЕсли;
	Иначе
		ЗапрашиватьКоличество = Истина;
	КонецЕсли;
	
КонецПроцедуры // ПриЗакрытии()

// Процедура - обработчик события ВыборЗначения
//
Процедура СправочникСписокВыборЗначения(Элемент, СтандартнаяОбработка, Значение)
	
	СтандартнаяОбработка = ЛОжь;
	
	Параметры = Новый Структура;
	Параметры.Вставить("НоменклатурнаяГруппа", Значение[0]);
	
	Количество = 1;
	Если ЗапрашиватьКоличество Тогда
		Если Не ВвестиЧисло(Количество, "Укажите количество", 15, 3) Тогда
			Возврат;
		КонецЕсли;
	КонецЕсли;
	
	Параметры.Вставить("Количество", Количество);
	ОповеститьОВыборе(Параметры);
	
КонецПроцедуры // СправочникСписокВыборЗначения()
