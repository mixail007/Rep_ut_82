
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	Если НЕ ПолучитьЗначениеПоУмолчанию(ПараметрыСеанса.ТекущийПользователь, "СтатьиДвиженияДенежныхСредствРазрешитьИзменять") Тогда
		ЭлементыФормы.СправочникСписок.ТолькоПросмотр = Истина;
	КонецЕсли;
	
	//Устанавливается отбор для старых непердопределенных элементов через пометку на удаление
	СправочникиОтборПомеченныхНаУдаление(СправочникСписок.Отбор, ЭлементыФормы.СправочникСписок);
	
	//Спрячем элементы со * в коде (он не входят в утвержденный список статей ддс - использовать нельзя)
	СправочникСписок.Отбор["Код"].Использование = Истина;
	СправочникСписок.Отбор["Код"].ВидСравнения = ВидСравнения.НеСодержит;
	СправочникСписок.Отбор["Код"].Значение = "*";
	
КонецПроцедуры

Процедура СправочникСписокПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, ЭтоГруппа)
	//Все элементы должны быть предопределенными
	Сообщить("Запрещено интерактивное добавление статей затрат!", СтатусСообщения.Важное);
	Отказ = Истина;
	Возврат;
КонецПроцедуры
