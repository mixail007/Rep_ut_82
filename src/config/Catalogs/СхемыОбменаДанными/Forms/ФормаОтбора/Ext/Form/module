
Перем СписокВозможныхВидовСравнений;

Процедура ОсновныеДействияФормыОК(Кнопка)
	
	Закрыть();
	
КонецПроцедуры

Процедура ОтборВидСравненияНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	
	// Для записи в секцию ClearData подходят только те виды сравнения, которые доступны
	// во встроенном языке Расширения для КПК
	Если СравнениеТолькоНаРавенство Тогда
		Элемент.СписокВыбора.Очистить();
		Элемент.СписокВыбора.Добавить("Равно");
	ИначеЕсли ОграничиватьСписокВидовСравнения Тогда
		Элемент.СписокВыбора = ПолучитьСписокДоступныхВидовСравнений(Элемент.СписокВыбора);
	КонецЕсли;	
	
КонецПроцедуры

Функция ПолучитьСписокДоступныхВидовСравнений(ТекущийСписокВыбора)
	
	ОграниченныйСписокВыбора = Новый СписокЗначений();
	
	Для Каждого ЭлементСписка из ТекущийСписокВыбора Цикл
		Если СписокВозможныхВидовСравнений.НайтиПоЗначению(ЭлементСписка.Значение) <> Неопределено Тогда
			ОграниченныйСписокВыбора.Добавить(ЭлементСписка.Значение);
		КонецЕсли;	
	КонецЦикла;
	
	Возврат ОграниченныйСписокВыбора;
	
КонецФункции

Процедура ПриОткрытии()
		
	СписокВозможныхВидовСравнений = Новый СписокЗначений();
	
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.Равно);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.НеРавно);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.Меньше);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.МеньшеИлиРавно);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.Больше);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.БольшеИлиРавно);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.Интервал);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.Содержит);
	СписокВозможныхВидовСравнений.Добавить(ВидСравнения.НеСодержит);
		
КонецПроцедуры
