////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

// Обработчик события ПриАктивизацииСтроки элемента СписокНазначенияСвойствКатегорийОбъектов.
//
Процедура СписокНазначенияСвойствКатегорийОбъектовПриАктивизацииСтроки(Элемент)

	СписокКатегорииОбъектов.Отбор.НазначениеКатегории.Установить(Элемент.ТекущаяСтрока);

КонецПроцедуры

// Обработчик события ПередНачаломДобавления элемента СписокКатегорииОбъектов.
//
Процедура СписокКатегорииОбъектовПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, ЭтоГруппа)

	НазначениеКатегории = СписокКатегорииОбъектов.Отбор.НазначениеКатегории.Значение;

	Если ЗначениеНеЗаполнено(НазначениеКатегории) ИЛИ НазначениеКатегории.ЭтоГруппа Тогда
		Предупреждение("Не выбрано назначение категории!");

		Отказ = Истина;

	ИначеЕсли Элемент.СпособРедактирования = СпособРедактированияСписка.ВДиалоге Тогда
		Форма = Справочники.КатегорииОбъектов.ПолучитьФормуНовогоЭлемента(, ЭтаФорма, "Справочники.КатегорииОбъектов.ФормаНовогоЭлемента");
		Форма.НазначениеКатегории = НазначениеКатегории;
		Форма.Открыть();

		Отказ = Истина;
	КонецЕсли;

КонецПроцедуры

// Обработчик события ПриНачалеРедактирования элемента СписокКатегорииОбъектов.
//
Процедура СписокКатегорииОбъектовПриНачалеРедактирования(Элемент, НоваяСтрока)

	Если НоваяСтрока Тогда
		Элемент.ТекущиеДанные.НазначениеКатегории = СписокКатегорииОбъектов.Отбор.НазначениеКатегории.Значение;
	КонецЕсли;

КонецПроцедуры
