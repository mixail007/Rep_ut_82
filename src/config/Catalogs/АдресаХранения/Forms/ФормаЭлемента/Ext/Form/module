
Процедура ПриОткрытии()
	// только для IT-отдела доступно прямое редактирование полей!
	Если не РольДоступна("ПравоЗавершенияРаботыПользователей") тогда 
		ЭтаФорма.ТолькоПросмотр=Истина;
	КонецЕсли;
	
КонецПроцедуры

Процедура ДействияФормыТоварыПоАдресу(Кнопка)
	
	Если ЭтоНовый() Тогда
		Предупреждение("Перед построением отчетов по элементу необходимо записать элемент!");
		Возврат;
	КонецЕсли;

	// получаем форму для построения отчета по остатку товара
	ОтчетОстатки  = Отчеты.ОстаткиТоваровАдресноеХранение.Создать();
	ФормаОтчета   = ОтчетОстатки.ПолучитьОсновнуюФорму();
	ФормаОтчета.Открыть();

	ФормаОтчета.ЭлементыФормы.ДатаКон.Значение                = ТекущаяДата();
	
	ФормаОтчета.ЭлементыФормы.ФлажокНастройкиСклад.Значение   = Истина;
	ФормаОтчета.ЭлементыФормы.ПолеВидаСравненияСклад.Значение = ВидСравнения.Равно;
	ФормаОтчета.ЭлементыФормы.ПолеНастройкиСклад.Значение     = Ссылка.Владелец;
	
	ФормаОтчета.ЭлементыФормы.ФлажокНастройкиАдресХранения.Значение   = Истина;
	ФормаОтчета.ЭлементыФормы.ПолеВидаСравненияАдресХранения.Значение = ВидСравнения.Равно;
	ФормаОтчета.ЭлементыФормы.ПолеНастройкиАдресХранения.Значение     = Ссылка;

	ФормаОтчета.ОбновитьОтчет();


КонецПроцедуры

//15.02.2018 - из Модуля - перенесено сюда!
Процедура НаименованиеПриИзменении(Элемент)
	
	симвРазделитель = "-";
	ВвестиСтроку(симвРазделитель, "Выберите разделитель");
	
	мас = РазложитьСтрокуВМассивПодстрок(Наименование, симвРазделитель);
	Если мас.Количество()>1 тогда
		Этаж  = число( мас[0] );
		Ряд   = число( мас[1] );
		Ячейка= число( мас[2] );
		ПМ    = число( мас[3] );
	КонецЕсли;
	
КонецПроцедуры
